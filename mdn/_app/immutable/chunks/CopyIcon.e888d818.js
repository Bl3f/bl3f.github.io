import{B as E,f as N,i as v,a as U,b as L,c as D}from"./index.5b74963f.js";import{U as H,S as k,i as z,s as B,X as h,Y as d,Z as c,g as p,f as o,k as T,_ as C,l as A,m as g,$ as X,n as w,a1 as b,a2 as x,t as Y,j as G,M as Z}from"./index.30eb3621.js";import{C as S}from"./globalContexts.8bcf5d41.js";function O(e,...t){if(typeof e=="function")throw new Error("You must supply the data as the first argument to tidy()");let r=e;for(const i of t)i&&(r=i(r));return r}function V(e){return r=>{const i=[];for(const n of r){const f={...n};for(const a in e){const s=e[a],l=typeof s=="function"?s(f):s;f[a]=l}i.push(f)}return i}}function _(e){if(e&&typeof e=="string"){let t=e.split(" ");e.includes(":")||(e=e+"T00:00:00"),t.length>2&&(e=t[0]+" "+t[1]);const r=/\.([^\s]+)/;e=e.replace(r,""),e=e.replace("Z",""),e=e.replace(" ","T")}return e}function $(e,t){return e=O(e,V({[t]:r=>r[t]?new Date(_(r[t])):null})),e}function ee(e,t){return e=O(e,V({[t]:r=>_(r[t])})),e}const M="axis",u="value",R=()=>{var e;try{return((e=H(S))==null?void 0:e.getCustomFormats())||[]}catch{return[]}},te=(e,t,r)=>{let i=K(e);if(t.evidenceType==="string")return;if(i){let f=R(),a=[...E,...f].find(s=>{var l,y;return((l=s.formatTag)==null?void 0:l.toLowerCase())===((y=i==null?void 0:i.toLowerCase)==null?void 0:y.call(i))});if(a)return a}let n=N(e,t,r);if(n)return n};function re(e,t=void 0){let r=e,i=R(),n=[...E,...i].find(a=>{var s,l;return((s=a.formatTag)==null?void 0:s.toLowerCase())===((l=r==null?void 0:r.toLowerCase)==null?void 0:l.call(r))}),f={};return n||(f={formatTag:"custom",formatCode:r},t&&(f.valueType=t),f)}const ne=(e,t=void 0,r=void 0)=>{try{return m(e,t,r,u)}catch(i){return console.warn(`Unexpected error calling applyFormatting(${e}, ${t}, ${u}, ${r}). Error=${i}`),e}},ie=(e,t=void 0,r=void 0)=>{try{return m(e,t,r,M)}catch{}return e},se=(e,t)=>{let r=e;if(e&&(t!=null&&t.formatTag)){let i=e.toLowerCase().lastIndexOf(`_${t.formatTag.toLowerCase()}`),n="";i>0&&(typeof(t==null?void 0:t.titleTagReplacement)=="string"&&(n=t.titleTagReplacement),r=e.substring(0,i)+n)}return r},j=e=>{switch(e){case"number":return 1234;case"date":return"2022-01-03";default:return}},ae=e=>{var i,n;let r=((i=e.userInput)==null?void 0:i.trim())||e.exampleInput||j(e.valueType);if(r)try{let f;if(e.valueType==="number"){let a=Number(r);f={min:a,max:a,median:a,maxDecimals:((n=a.toString().split(".")[1])==null?void 0:n.length)||0,unitType:"number"}}return m(r,e,f,u)}catch{}return""};function m(e,t=void 0,r=void 0,i=u){if(e==null)return"-";let n;if(t)try{let f=q(t,i),a;try{t.valueType==="date"&&typeof e=="string"?a=new Date(_(e)):e instanceof Date?a=new Date(e.toISOString().slice(0,-1)):t.valueType==="number"&&typeof e!="number"&&!Number.isNaN(e)?a=Number(e):a=e}catch{a=e}if(v(t,f))try{n=U(a,t,r)}catch(s){console.warn(`Unexpected error applying auto formatting. Error=${s}`)}else n=L.format(f,a)}catch(f){console.warn(`Unexpected error applying formatting ${f}`)}return n===void 0&&(n=D(e)),n}function q(e,t=u){return typeof e=="string"?e:t===M&&(e!=null&&e.axisFormatCode)?e.axisFormatCode:e==null?void 0:e.formatCode}function K(e){let t=e.toLowerCase(),r=t.lastIndexOf("_");if(r>0)return t.substr(r).replace("_","")}function I(e){let t,r;return{c(){t=d("title"),r=Y(e[0])},l(i){t=c(i,"title",{});var n=p(t);r=G(n,e[0]),n.forEach(o)},m(i,n){A(i,t,n),g(t,r)},p(i,n){n&1&&Z(r,i[0])},d(i){i&&o(t)}}}function P(e){let t,r,i,n=e[0]&&I(e),f=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"100%"},{height:"100%"},{preserveAspectRatio:"xMidYMid meet"},e[1],e[2]],a={};for(let s=0;s<f.length;s+=1)a=h(a,f[s]);return{c(){t=d("svg"),n&&n.c(),r=d("path"),i=d("path"),this.h()},l(s){t=c(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,width:!0,height:!0,preserveAspectRatio:!0});var l=p(t);n&&n.l(l),r=c(l,"path",{d:!0}),p(r).forEach(o),i=c(l,"path",{d:!0}),p(i).forEach(o),l.forEach(o),this.h()},h(){T(r,"d","M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"),T(i,"d","M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"),C(t,a)},m(s,l){A(s,t,l),n&&n.m(t,null),g(t,r),g(t,i)},p(s,[l]){s[0]?n?n.p(s,l):(n=I(s),n.c(),n.m(t,r)):n&&(n.d(1),n=null),C(t,a=X(f,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"100%"},{height:"100%"},{preserveAspectRatio:"xMidYMid meet"},l&2&&s[1],l&4&&s[2]]))},i:w,o:w,d(s){s&&o(t),n&&n.d()}}}function J(e,t,r){let i,n;const f=["title"];let a=b(t,f),{title:s=void 0}=t;return e.$$set=l=>{r(4,t=h(h({},t),x(l))),r(2,a=b(t,f)),"title"in l&&r(0,s=l.title)},e.$$.update=()=>{r(3,i=t["aria-label"]||t["aria-labelledby"]||s),r(1,n={"aria-hidden":i?void 0:!0,role:i?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})},t=x(t),[s,n,a,i]}class fe extends k{constructor(t){super(),z(this,t,J,P,B,{title:0})}}export{fe as C,se as a,ie as b,$ as c,ae as d,j as e,ne as f,re as g,te as l,V as m,ee as s,O as t};
